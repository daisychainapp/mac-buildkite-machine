---
# Global variables for all hosts

# Git repository settings (for ansible-pull)
ansible_pull_repo_url: "git@github.com:daisychainapp/mac-buildkite-machine.git"
ansible_pull_branch: "main"
ansible_pull_workdir: "/opt/mac-build"
ansible_pull_interval: 1800  # 30 minutes in seconds

# Buildkite configuration
buildkite_agent_count: 3
buildkite_agent_tags:
  - "queue=macos"
  - "os=macos"
  - "arch=arm64"
buildkite_agent_priority: 1
buildkite_hooks_path: "/opt/homebrew/etc/buildkite-agent/hooks"
buildkite_builds_path: "/opt/homebrew/var/buildkite-agent/builds"
buildkite_plugins_path: "/opt/homebrew/var/buildkite-agent/plugins"

# Docker Desktop settings
docker_memory_gb: 8
docker_cpus: 4
docker_disk_size_gb: 64

# Homebrew packages to install
homebrew_packages:
  - git
  - jq
  - yq
  - awscli
  - gh  # GitHub CLI

homebrew_cask_packages:
  - docker
  - google-chrome
  - iterm2

# Pre-installed apps to remove (not needed for CI)
apps_to_remove:
  - Keynote.app
  - Numbers.app
  - Pages.app
  - GarageBand.app
  - iMovie.app

# Nightly maintenance settings
maintenance_hour: 3
maintenance_minute: 0
maintenance_build_timeout: 600  # 10 minutes to wait for builds

# macOS settings
macos_auto_update_check: true
macos_auto_download_updates: true
macos_auto_install_security_updates: true

# Paths
vault_password_file: "/etc/ansible/.vault-pass"
log_dir: "/var/log"
